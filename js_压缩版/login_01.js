var common={getMsgByRet:function(a){return{"-201":"对不起，请求参数错误！","-202":"请求被拒绝，请稍后再试！","-400":'登录信息已丢失，请 <a href="javascript:;" onclick="common.showLoginWin()">重新登录</a> ！',"-401":'您还未注册开发者！<a href="/developer/add">点击此处注册成为开发者</a>',"-402":'你的电子邮箱尚未通过验证，不能完成此操作！<a href="/developer/checkemail/">查看详情</a>'}[a]||false},setCookie:function(i,a,d){if(typeof a!="undefined"){d=d||{};if(a===null){a="";d.expires=-1}var j="";if(d.expires&&(typeof d.expires=="number"||d.expires.toUTCString)){var c;if(typeof d.expires=="number"){c=new Date();c.setTime(c.getTime()+(d.expires*24*60*60*1000))}else{c=d.expires}j="; expires="+c.toUTCString()}var f=d.path?"; path="+(d.path):"";var b=d.domain?"; domain="+(d.domain):"";var h=d.secure?"; secure":"";document.cookie=[i,"=",encodeURIComponent(a),j,f,b,h].join("")}else{var k=null;if(document.cookie&&document.cookie!=""){var e=document.cookie.split(";");for(var g=0;g<e.length;g++){var l=jQuery.trim(e[g]);if(l.substring(0,i.length+1)==(i+"=")){k=decodeURIComponent(l.substring(i.length+1));break}}}return k}},showLoginWin:function(a){loginWin.close();loginWin.showBox(500,300,a||encodeURIComponent(location.href),"用户登录");return false},buildLoginPage:function(){var a=['<div class="headWrap">','<div id="header" class="headInside">','<h1><a class="logo" title="腾讯微博开放平台" href="/">腾讯微博开放平台</a></h1>','<ul class="topNav">','<li><a href="/" hidefocus="">首页</a></li>','<li><a href="/websites/" hidefocus="">网站接入</a></li>','<li><a href="/wireless/" hidefocus="">无线接入</a></li>','<li><a href="/developer/" hidefocus="">应用开发</a></li>','<li><a href="http://wiki.open.t.qq.com/" hidefocus="">文档</a></li>','<li><a href="http://bbs.open.t.qq.com/" target="_blank" hidefocus="">论坛</a></li>','<li><a href="/development" class="active" id="developmentbtn" hidefocus="">管理中心</a></li>',"</ul>",'<div class="menuCon userNav" id="login_status">','<a title="点击此处登录" class="login_name" href="javascript:void(0);" id="loginBtn" hidefocus="">登录</a>',"</div>","</div>","</div>",'<div class="actioninfo">','<img src="http://mat1.gtimg.com/app/opent/images/index/transparent.gif" class="alert">对不起，在没有登录微博的情况下，您无法使用该功能。 请先 <a href="javascript:void(0)" id="loginBtn2" class="links">登录</a>',"</div>",'<div id="footer">','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E5%85%B3%E4%BA%8E" target="_blank">关于腾讯微博开放平台</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96" target="_blank">隐私政策</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E" target="_blank">免责声明</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC" target="_blank">联系我们</a>',"<br/>","Copyright &copy; 1998-2013 Tencent.All Rights Reserved","</div>"].join("");$("#main").html(a);$("#loginBtn,#loginBtn2").click(function(){common.showLoginWin();return false})},checkuserLogin:function(a){hdlogin=userInfo.hdlogin||false;a=a||encodeURIComponent(location.href);if(hdlogin){return true}else{common.buildLoginPage();common.showLoginWin(a)}return false},loginOut:function(){common.setCookie("uin",null,{domain:"qq.com",path:"/"});common.setCookie("skey",null,{domain:"qq.com",path:"/"});common.setCookie("luin",null,{domain:"qq.com",path:"/"});common.setCookie("lskey",null,{domain:"qq.com",path:"/"});location.reload();return false}};$((function(){var b={};(function(c){c.fn.moduleBox=function(d){d=d||{};var f={width:d.width||450,height:d.height||320,title:d.title||"提示信息",text:d.text||"",closeBtn:d.closeBtn||""},e={};e.initModuleBox=function(){var g=c('<div class="modulebox" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:99999;text-align:left;_ position:absolute;_ top:expression(eval(document.documentElement.scrollTop)); _ height:expression(eval(document.documentElement.clientHeight));display:none;"><iframe width="100%" height="100%" frameborder="0" style="opacity:0;filter:alpha(opacity=0);z-index:1;position:absolute;top:0;left:0;"></iframe><div style="position:absolute;top:0;left:0;z-index:2;background:#000;width:100%;height:100%;opacity:0.2;filter:alpha(opacity=10);"></div>	<div class="modulebox_win" style="position:absolute;z-index:3;top:50%;left:50%;margin:'+(-f.height/2)+"px 0 0 "+(-f.width/2)+"px;width:"+f.width+"px;height:"+f.height+'px;">		<a href="javascript:;" class="modulebox_close closewin" title="关闭"></a>		<h2 class="modulebox_title" style="margin:0;padding:0;">'+f.title+'</h2>		<div class="modulebox_content" style="height:'+(f.height-41)+'px">'+f.text+"</div>	</div></div>").appendTo(c("body"));g.find(".closewin").bind("click",function(){g.hide()});return{working:false,waiting:[],titlebar:g.find(".modulebox_title"),win:g.find(".modulebox_win"),contentarea:g.find(".modulebox_content"),closebtn:g.find(".modulebox_close"),close:function(h){this.working=false;this.contentarea.html("");g.hide();(h||function(){})();if(this.waiting.length>0){var j=this,i=j.waiting.shift();setTimeout(function(){j[i._show||"show"].call(j,i,h)},100)}},show:function(h){if(this.working){this.waiting.push(h);return}if(h){if(h.title){this.titlebar.html(h.title)}if(h.text){this.contentarea.html(h.text)}if(h.width){this.win.css({width:h.width,"margin-left":-h.width/2})}if(h.height){this.win.css({height:h.height,"margin-top":-h.height/2});this.contentarea.css({height:h.height-41})}}if(!g.is(":visible")){g.show();this.working=true}}}};return e.initModuleBox()}})(jQuery);var a=function(){$("#logoutBtn").bind("click",common.loginOut);$("#loginBtn,#loginBtn2").click(function(){common.showLoginWin();return false});$("#developmentbtn").click(function(){return(!!checkuserLogin(encodeURIComponent("http://"+location.host.replace(/\bwiki\b\./,"dev.")+"/development/")))});$("#loginBtn_body").click(function(){loginWin.showBox(335,380);return false});$(".boxbg").click(function(){loginWin.hideBox()});$(".login_div_header").find(".closeBtn").click(function(){loginWin.hideBox()});window.loginWin=$.fn.moduleBox({width:500,height:400,title:"",text:""});window.loginWin.closebtn.bind("click",function(){loginWin.close.call(loginWin)});window.loginWin.showBox=function(d,c,f,e){f="http://ui.ptlogin2.qq.com/cgi-bin/login?appid=46000101&s_url="+f+"&f_url=loginerroralert&style=0&link_target=blank&target=blank&hide_title_bar=1&dummy=1&bgcolor=ffffff";this.show({width:d,height:c,title:e||"对不起，您还未登录",text:'<div id="login_div" style="*display:inline;zoom:1;padding-top:20px;width:100%;height:100%;"><iframe src="'+f+'" width="100%" height="100%" frameborder="0" scrolling="no" marginwidth="0" marginheight="0"></iframe></div>'})};window.loginWin.alert=function(e,d){var c={_show:"alert",title:"提示",text:"",width:420,height:150,ok_text:"确定",ok_class:"devSubmit closeBtn"};if(typeof e=="string"){c.text=e}else{if(typeof e=="object"){c.title=e.title||c.title;c.text=e.text||c.text;c.width=e.width||c.width;c.height=e.height||c.height;c.ok_text=e.ok_text||c.ok_text;c.ok_class=e.ok_class||c.ok_class}}(typeof(e&&e._show)==="undefined")&&(c.text="<br/>"+c.text+'<center><input type="button" class="'+c.ok_class+'" value="'+c.ok_text+'"/></center>');loginWin.show.call(loginWin,c);loginWin.contentarea.find(".closeBtn").bind("click",function(){loginWin.close.call(loginWin,d)})};window.loginWin.showImg=function(e,d){var c={_show:"alert",title:"提示",text:"",width:500,height:650};if(typeof e=="string"){c.text=e}else{if(typeof e=="object"){c.title=e.title||c.title;c.text=e.text||c.text;c.width=e.width||c.width;c.height=e.height||c.height}}(typeof(e&&e._show)==="undefined")&&(c.text='<div style="overflow:auto;text-align:center;"><img src=\''+c.text+"' /></div>");loginWin.width=c.width;loginWin.height=c.height;loginWin.show.call(loginWin,c)};window.loginWin.confirm=function(c,f,e){var g={width:420,height:180,text:"",title:"提示",ok_text:"确定",cancel_text:"取消"},d='<div style="text-align:center;margin:0 20px;">				   <div style="text-align:left;display:inline-block;* display:inline;zoom:1;margin:22px auto 14px;word-wrap:break-word;word-break:break-all;">					 #text#				   </div>			 </div>			 <div align="center">				   <a href="javascript:;" class="devSubmit sure_btn">#ok_text#</a>				   <a href="javascript:;" class="devCancel close_btn">#cancel_text#</a>			 </div>',h=loginWin,i=h.contentarea;if(typeof(c)==="string"){c=d.replace("##",c);g=$.extend(g,{text:c})}else{if(typeof(c)==="object"){c.text=d.replace(/#(\S+)?#/g,function(){return c[arguments[1]]||("#"+arguments[1]+"#")});$.extend(g,c)}}this.show(g);i.find(".sure_btn").bind("click",function(){h.close();f&&f()});i.find(".close_btn").bind("click",function(){h.close();e&&e()});this.closebtn.unbind("click").bind("click",function(){window.location.reload()})}}()}));var showLoginWin=common.showLoginWin,cookie=common.setCookie,checkuserLogin=common.checkuserLogin,openAppAfterLogin=function(a){return(!!checkuserLogin(a.attr("href")))},ptlogin2_onResize=function(a,b){$(".modulebox_content").removeAttr("style").parent().width(a).css("margin-left",-Math.ceil(a/2)).end().height(b+40).parent().height(b+75).css("margin-top",-Math.ceil((b+75)/2));$("#login_div").height(b)};$(function(){$("body").mouseover(function(c){var a=$("#login_status"),b=c.target;if(window.hdlogin){if($.contains(a[0],b)||a[0]===b){a.addClass("menuContainer")}else{a.removeClass("menuContainer")}}})});$(document).ready(function(){setTimeout(function(){common.checkuserLogin()},100)});