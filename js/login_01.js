var common={getMsgByRet:function(A){return{"-201":"对不起，请求参数错误！","-202":"请求被拒绝，请稍后再试！","-400":'登录信息已丢失，请 <a href="javascript:;" onclick="common.showLoginWin()">重新登录</a> ！',"-401":'您还未注册开发者！<a href="/developer/add">点击此处注册成为开发者</a>',"-402":'你的电子邮箱尚未通过验证，不能完成此操作！<a href="/developer/checkemail/">查看详情</a>'}[A]||false},"setCookie":function(H,D,A){if(typeof D!="undefined"){A=A||{};if(D===null){D="";A.expires=-1}var G="";if(A.expires&&(typeof A.expires=="number"||A.expires.toUTCString)){var B;if(typeof A.expires=="number"){B=new Date();B.setTime(B.getTime()+(A.expires*24*60*60*1000))}else{B=A.expires}G="; expires="+B.toUTCString()}var K=A.path?"; path="+(A.path):"";var C=A.domain?"; domain="+(A.domain):"";var I=A.secure?"; secure":"";document.cookie=[H,"=",encodeURIComponent(D),G,K,C,I].join("")}else{var F=null;if(document.cookie&&document.cookie!=""){var L=document.cookie.split(";");for(var J=0;J<L.length;J++){var E=jQuery.trim(L[J]);if(E.substring(0,H.length+1)==(H+"=")){F=decodeURIComponent(E.substring(H.length+1));break}}}return F}},"showLoginWin":function(A){loginWin.close();loginWin.showBox(500,300,A||encodeURIComponent(location.href),"用户登录");return false},"buildLoginPage":function(){var A=['<div class="headWrap">','<div id="header" class="headInside">','<h1><a class="logo" title="腾讯微博开放平台" href="/">腾讯微博开放平台</a></h1>','<ul class="topNav">','<li><a href="/" hidefocus="">首页</a></li>','<li><a href="/websites/" hidefocus="">网站接入</a></li>','<li><a href="/wireless/" hidefocus="">无线接入</a></li>','<li><a href="/developer/" hidefocus="">应用开发</a></li>','<li><a href="http://wiki.open.t.qq.com/" hidefocus="">文档</a></li>','<li><a href="http://bbs.open.t.qq.com/" target="_blank" hidefocus="">论坛</a></li>','<li><a href="/development" class="active" id="developmentbtn" hidefocus="">管理中心</a></li>',"</ul>",'<div class="menuCon userNav" id="login_status">','<a title="点击此处登录" class="login_name" href="javascript:void(0);" id="loginBtn" hidefocus="">登录</a>',"</div>","</div>","</div>",'<div class="actioninfo">','<img src="http://mat1.gtimg.com/app/opent/images/index/transparent.gif" class="alert">对不起，在没有登录微博的情况下，您无法使用该功能。 请先 <a href="javascript:void(0)" id="loginBtn2" class="links">登录</a>',"</div>",'<div id="footer">','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E5%85%B3%E4%BA%8E" target="_blank">关于腾讯微博开放平台</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96" target="_blank">隐私政策</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%85%BE%E8%AE%AF%E5%BE%AE%E5%8D%9A%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E" target="_blank">免责声明</a>','<a href="http://wiki.open.t.qq.com/index.php/%E8%81%94%E7%B3%BB%E6%88%91%E4%BB%AC" target="_blank">联系我们</a>',"<br/>","Copyright &copy; 1998-2013 Tencent.All Rights Reserved","</div>"].join("");$("#main").html(A);$("#loginBtn,#loginBtn2").click(function(){common.showLoginWin();return false})},"checkuserLogin":function(A){hdlogin=userInfo.hdlogin||false;A=A||encodeURIComponent(location.href);if(hdlogin){return true}else{common.buildLoginPage();common.showLoginWin(A)}return false},"loginOut":function(){common.setCookie("uin",null,{domain:"qq.com",path:"/"});common.setCookie("skey",null,{domain:"qq.com",path:"/"});common.setCookie("luin",null,{domain:"qq.com",path:"/"});common.setCookie("lskey",null,{domain:"qq.com",path:"/"});location.reload();return false}};$((function(){var B={};(function(C){C.fn.moduleBox=function(F){F=F||{};var D={"width":F.width||450,"height":F.height||320,"title":F.title||"提示信息","text":F.text||"","closeBtn":F.closeBtn||""},E={};E.initModuleBox=function(){var G=C('<div class="modulebox" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:99999;text-align:left;_ position:absolute;_ top:expression(eval(document.documentElement.scrollTop)); _ height:expression(eval(document.documentElement.clientHeight));display:none;"><iframe width="100%" height="100%" frameborder="0" style="opacity:0;filter:alpha(opacity=0);z-index:1;position:absolute;top:0;left:0;"></iframe><div style="position:absolute;top:0;left:0;z-index:2;background:#000;width:100%;height:100%;opacity:0.2;filter:alpha(opacity=10);"></div>	<div class="modulebox_win" style="position:absolute;z-index:3;top:50%;left:50%;margin:'+(-D["height"]/2)+"px 0 0 "+(-D["width"]/2)+"px;width:"+D["width"]+"px;height:"+D["height"]+'px;">		<a href="javascript:;" class="modulebox_close closewin" title="关闭"></a>		<h2 class="modulebox_title" style="margin:0;padding:0;">'+D["title"]+'</h2>		<div class="modulebox_content" style="height:'+(D["height"]-41)+'px">'+D["text"]+"</div>	</div></div>").appendTo(C("body"));G.find(".closewin").bind("click",function(){G.hide()});return{"working":false,"waiting":[],"titlebar":G.find(".modulebox_title"),"win":G.find(".modulebox_win"),"contentarea":G.find(".modulebox_content"),"closebtn":G.find(".modulebox_close"),"close":function(J){this.working=false;this.contentarea.html("");G.hide();(J||function(){})();if(this.waiting.length>0){var H=this,I=H.waiting.shift();setTimeout(function(){H[I["_show"]||"show"].call(H,I,J)},100)}},"show":function(H){if(this.working){this.waiting.push(H);return}if(H){if(H.title){this.titlebar.html(H.title)}if(H.text){this.contentarea.html(H.text)}if(H.width){this.win.css({"width":H.width,"margin-left":-H.width/2})}if(H.height){this.win.css({"height":H.height,"margin-top":-H.height/2});this.contentarea.css({"height":H.height-41})}}if(!G.is(":visible")){G.show();this.working=true}}}};return E.initModuleBox()}})(jQuery);var A=function(){$("#logoutBtn").bind("click",common.loginOut);$("#loginBtn,#loginBtn2").click(function(){common.showLoginWin();return false});$("#developmentbtn").click(function(){return(!!checkuserLogin(encodeURIComponent("http://"+location.host.replace(/\bwiki\b\./,"dev.")+"/development/")))});$("#loginBtn_body").click(function(){loginWin.showBox(335,380);return false});$(".boxbg").click(function(){loginWin.hideBox()});$(".login_div_header").find(".closeBtn").click(function(){loginWin.hideBox()});window.loginWin=$.fn.moduleBox({"width":500,"height":400,"title":"","text":""});window.loginWin.closebtn.bind("click",function(){loginWin.close.call(loginWin)});window.loginWin.showBox=function(E,F,C,D){C="http://ui.ptlogin2.qq.com/cgi-bin/login?appid=46000101&s_url="+C+"&f_url=loginerroralert&style=0&link_target=blank&target=blank&hide_title_bar=1&dummy=1&bgcolor=ffffff";this.show({"width":E,"height":F,"title":D||"对不起，您还未登录","text":'<div id="login_div" style="*display:inline;zoom:1;padding-top:20px;width:100%;height:100%;"><iframe src="'+C+'" width="100%" height="100%" frameborder="0" scrolling="no" marginwidth="0" marginheight="0"></iframe></div>'})};window.loginWin.alert=function(C,D){var E={"_show":"alert","title":"提示","text":"","width":420,"height":150,"ok_text":"确定","ok_class":"devSubmit closeBtn"};if(typeof C=="string"){E.text=C}else{if(typeof C=="object"){E.title=C.title||E.title;E.text=C.text||E.text;E.width=C.width||E.width;E.height=C.height||E.height;E.ok_text=C.ok_text||E.ok_text;E.ok_class=C.ok_class||E.ok_class}}(typeof(C&&C._show)==="undefined")&&(E.text="<br/>"+E.text+'<center><input type="button" class="'+E.ok_class+'" value="'+E.ok_text+'"/></center>');loginWin.show.call(loginWin,E);loginWin.contentarea.find(".closeBtn").bind("click",function(){loginWin.close.call(loginWin,D)})};window.loginWin.showImg=function(C,D){var E={"_show":"alert","title":"提示","text":"","width":500,"height":650};if(typeof C=="string"){E.text=C}else{if(typeof C=="object"){E.title=C.title||E.title;E.text=C.text||E.text;E.width=C.width||E.width;E.height=C.height||E.height}}(typeof(C&&C._show)==="undefined")&&(E.text='<div style="overflow:auto;text-align:center;"><img src=\''+E.text+"' /></div>");loginWin.width=E.width;loginWin.height=E.height;loginWin.show.call(loginWin,E)};window.loginWin.confirm=function(I,F,G){var E={"width":420,"height":180,"text":"","title":"提示","ok_text":"确定","cancel_text":"取消"},H='<div style="text-align:center;margin:0 20px;">				   <div style="text-align:left;display:inline-block;* display:inline;zoom:1;margin:22px auto 14px;word-wrap:break-word;word-break:break-all;">					 #text#				   </div>			 </div>			 <div align="center">				   <a href="javascript:;" class="devSubmit sure_btn">#ok_text#</a>				   <a href="javascript:;" class="devCancel close_btn">#cancel_text#</a>			 </div>',D=loginWin,C=D.contentarea;if(typeof(I)==="string"){I=H.replace("##",I);E=$.extend(E,{"text":I})}else{if(typeof(I)==="object"){I.text=H.replace(/#(\S+)?#/g,function(){return I[arguments[1]]||("#"+arguments[1]+"#")});$.extend(E,I)}}this.show(E);C.find(".sure_btn").bind("click",function(){D.close();F&&F()});C.find(".close_btn").bind("click",function(){D.close();G&&G()});this.closebtn.unbind("click").bind("click",function(){window.location.reload()})}}()}));var showLoginWin=common.showLoginWin,cookie=common.setCookie,checkuserLogin=common.checkuserLogin,openAppAfterLogin=function(A){return(!!checkuserLogin(A.attr("href")))},ptlogin2_onResize=function(A,B){$(".modulebox_content").removeAttr("style").parent().width(A).css("margin-left",-Math.ceil(A/2)).end().height(B+40).parent().height(B+75).css("margin-top",-Math.ceil((B+75)/2));$("#login_div").height(B)};$(function(){$("body").mouseover(function(B){var A=$("#login_status"),C=B.target;if(window.hdlogin){if($.contains(A[0],C)||A[0]===C){A.addClass("menuContainer")}else{A.removeClass("menuContainer")}}})});$(document).ready(function(){setTimeout(function(){common.checkuserLogin()},100)});